# 2주차 스터디

## 핵심 키워드

- 외부 접속
    - 외부접속이란?
        
        보통 공유기의 관점에서의 외부 접속을 말함. 같은 공유기로 접속하지 않는 사용자가 접속하려고 할 때.

        그러나 여기서의 외부는 상대적인 개념으로 그때 그때 의미하는 바가 달라진다.
    
    - 포트포워딩이 필요한 이유
        
        외부 접속을 하려고 할 때 포트에 따라 어떤 내부 ip의, 어떤 포트로 접속을 전달해주어야하는지 설정해주어야 그대로 접속할 수 있다. 이 설정이 포트포워딩이다.

- 클라이언트-서버 모델

    - 클라이언트-서버 모델을 일상 속에서 찾아보자 [예 )음식점과 손님]
        
        선생님과 학생(교육 서비스)
        
    - API의 개념
    
        Application Programming Interface의 줄임말, 요청과 응답을 사용해서 두 애플리케이션이 서로 통신하는 방법을 정의한 것

- IP

    - IP란 : Internet Protocol의 약자, 인터넷이 통하는 네트워크에서 어떤 정보를 수신하고 송신하는 통신에 대한 규약

        - Internet : 인터넷 프로토콜 스위트(TCP/IP)를 기반으로 하여 전 세계적으로 연결되어있는 컴퓨터 네트워크 통신망

    - IPv4와 IPv6의 차이

        - IPv4 : 최초의 안정된 IP

            - 32비트 주소는 “클래스”로 분리됨

            - 각 디바이스가 멈추고 패킷을 확인하도록 강제하는 브로드캐스트 주소를 사용

        - IPv6 : 최신 세대의 IP, 인터넷 요구 사항의 폭증을 수용하기 위해 등장

            - 128비트 주소는 콜론으로 분리된 8개의 16비트 16진수 블록, 서브넷팅을 사용하여 주어진 주소 공간 할당에 맞게 네트워크 크기를 조정

            - 브로드캐스트 주소를 사용하지 않고, 멀티캐스트 그룹을 사용. 로컬 범위내에서 모든 노드에 대한 멀티캐스트 주소 사용

        - IPv6는 IPv4를 대체하기 위해 등장했지만, 현재 둘은 맞물려있고, 두가지가 병행되고 있음

    - DNS를 사용하는 이유
    
        IP주소는 인간이 기억하기 어려운데 인간이 기억하기 쉽게 언어체계로 변환한 것

    - 외부 IP와 내부 IP

        - 내부 IP : 내 PC가 현재 사용하고 내부적으로 표현되는 할당받은 IP

        - 외부 IP : 내 PC에서 하는 작업등이 온라인 상에 사용되고 표현되는 IP

- 포트

    - 포트란 : 운영 체제 통신의 종단점

    - 기본으로 사용하는 포트 정리
        
        | 프로토콜 | 포트번호 |
        | --- | --- |
        | http | 80 |
        | https | 443 |
        | ssh | 22 |
        | sftp | 21 |
        | mysql | 3306 |

    - 외부 포트와 내부 포트
        
        - 외부 포트 : 외부 IP에서 접속할 때 사용
        
        - 내부 포트 : 내부 IP로 연결시 사용
        

## 추가 개념 키워드

- TCP vs UDP

    - TCP
        
        Transmission Control Protocol, 전송 제어 프로토콜
        
        인터넷 상에서 데이터를 메세지의 형태로 보내기 위해 IP와 함께 사용하는 프로토콜
        
        IP가 데이터 배달을 처리한다면 TCP는 패킷을 추적 및 관리함
        
        - 연결형 서비스, 가상 회선 방식

            - 발신지와 수신지를 연결하여 패킷을 전송하기 위한 논리적 회로를 배정

            - 연결 : 3-way handshaking / 해제 : 4-way handshaking

        - 흐름제어, 혼잡제어 → UDP보다 속도 느림

        - 높은 신뢰성 보장 ← 연결형 서비스

    - UDP
        
        User Datagram Protocol, 사용자 데이터그램 프로토콜
        
        데이터를 데이터그램 단위로 처리하는 프로토콜
        
        데이터그램으로 알려진 단문 메시지를 교환하기 위해서 사용
        
        - 데이터 그램 : 독립적인 관계를 지니는 패킷

        - 비연결형 프로토콜

            - 연결 설정과 해제 과정이 없음, 서로 다른 경로로 독립적으로 처리

        - 흐름 제어, 혼잡 제어 같은 기능 없음 → TCP보다 속도 빠름

        - 높은 연속성 보장

    - TCP 예시
        
        파일 전송
        
    - UDP 예시
        
        실시간 서비스(streaming)
        
- DNS
    
    IP 주소는 인간이 기억하기 어려운데, 인간이 기억하기 쉽게 언어체계로 변환한 것
    
- ⭐**Proxy**⭐
    - Forward proxy
        
        ![[forward_proxy.png]]
        
        대게 기업 환경에서 많이 쓰이며, 어떤 도메인에 연결하고자 할 때 사용자 PC가 직접 연결하는 것이 아니라, 포워드 프록시 서버가 요청을 받아서 해당 도메인으로 연결해줍니다. 
        
        보통 캐시 기능이 있기 때문에 자주 사용되는 컨텐츠라면 성능이 향상됩니다. 도한 정해진 사이트만 연결하게 설정하는 등으로 웹 사용환경을 제한할 수 있습니다.
        
    - Reverse proxy
        
        ![[reverse_proxy.png]]
        
        서비스하고 있는 서비스에 대해서 클라이언트가 요청할 때, 리버스 프록시 서버가 데이터를 받아서 이 데이터를 클라이언트에게 전달합니다. 보통 WAS가 이 과정을 담당합니다. 
        
    apache에서는 mod_proxy라는 모듈에서 forward proxy와 reverse proxy 두가지 기능을 제공하며, nginx는 reverse proxy 기능만 제공합니다.
    
    참고 링크
    
    [포워드 프록시(forward proxy) 리버스 프록시(reverse proxy) 의 차이](https://www.lesstif.com/system-admin/forward-proxy-reverse-proxy-21430345.html)
    
- 네트워크 장비
    - 라우터
        
        OSI 7계층에서 네트워크 계층에 포함되는 기기

        상위 통신망과 하위 통신망 사이를 중계, LAN을 연결해주는 장치
        
        네트워크를 통해 정보를 주고 받을 때 데이터에 담긴 수신처의 주소를 읽고 가장 적절한 통신통로를 이용해 다른 통신망으로 전송하는 장치
        
        최종 목적지에 가기 위하여 거쳐야하는 많은 경로들 중에 적절한 통신 경로를 결정하기 위하여 한 통신망에서 다른 통신망으로 데이터 패킷을 전송하는 장치
        
    - 허브
        
        다양한 기기들로부터 오는 전기신호들을 받아서 그 신호를 증폭시켜 다른 기기들로 뿌려주는 역할을 수행함 → 단순 분배를 하는 중계 장치
        
        자신이 가지고 있는 데이터 전송 대역을 분리해서 각 장치에 전송된다.
        
        IP 할당 기능은 따로 있지 않음
        
    - 스위치
        
        연결된 장치들의 IP와 MAC 주소를 모두 테이블 형태로 가지고, 원하는 목적지에 데이터 패킷을 전송하는 장치
        
        IP와 MAC 주소를 기반으로 필요한 장치에게만 데이터 패킷을 전송함
        
    - 공유기
        
        여러 노트북과 컴퓨터와 같은 다양한 장치들을 인터넷에 연결할 수 있음
        
- 이더넷(Ethernet)
    
    가정이나 건물과 같은 로컬 환경의 컴퓨터 및 기타 장치를 네트워크에 연결하기 위해 개발된 통신 표준
    
    로컬 환경은 LAN으로 정의, 여러 장치를 연결하여 해당 위치의 다른 사람들과 정보를 작성, 저장 및 공유
    
    보통 유선인터넷이 된다면 이더넷을 쓰는 환경이다.
    
- MAC 주소 (Media Access Control Address)
    
    데이터 링크 계층에서 통신을 위한 네트워크 인터페이스에 할당된 고유 식별자
    Network Interface Card(NIC)를 가진 단말이라면 공장에서 출고될 때 부여되고 평생 사용하는 고유한 주소
    LAN에서 목적지와 통신하기 위한 실질적인 주소
    
    같은 네트워크안에서는 MAC Address 만을 가지고 통신한다.
    
    - 필요한 이유?
    
        IP 주소나 MAC 주소, 둘 중 하나만 사용하면 되는 거 아닐까?
        
        IP 주소는 끊임없이 변화한다.
        어떤 PC가 IP 주소를 바꿨을 때 원래 그 IP 주소를 가지고 있었던 PC가 있었다면 같은 IP 주소를 가지는 PC가 두 개 생긴다. 사람이 동명이인이어도 주민 번호가 다르기 때문에 구분할 수 있는 것처럼 잘 변하지 않는 MAC 주소를 부여한다.
        
        IP 주소없이 MAC 주소를 사용한다면,
        각 고유한 주소를 라우팅 테이블에 일일히 입력해야하는데 이 수가 매우 많이 때문에 이 과정에서 라우터가 다운될 것
        IP 주소는 연속성을 갖기 때문에 IP 주소 다수를 한 줄로 지정해줄 수 있으니 편리하다.
    
- 서브넷 마스크
    
    네트워크가 작은 조각으로 쪼개져 잇는 경우 이러한 조각을 서브넷이라고 함
    
    네트워크 성능 개선을 위해 네트워크 관리자가 효율적으로 자원을 분배하는 것이 서브네팅 
    
    서브넷 마스크를 사용해서 Network ID와 Host ID를 서브넷 마스크를 통해 분리할 수 있다.
    
- 소켓 프로토콜

    - 소켓
        
        프로세스가 드넓은 네트워크 세계로 데이터를 내보내거나 그 세계로 부터 데이터를 받기 위한 실제적인 창구 역할
        
        프로세스가 데이터를 보내거나 받기 위해서는 반드시 소켓을 열어서 소켓에 데이터를 써보내거나 소켓으로 부터 데이터를 읽어들여야 한다.
        
    
    소켓의 종류로는 스트림(TCP) , 데이터그램(UDP)가 있다.
    
    소켓통신은 Server와 Client가 특정 Port를 통해 실시간으로 양방향 통신을 하는 방식이다.
    
    HTTP 통신과 다르게 Server와 Client가 계속 연결을 유지하는 양방향 통신, Server와 Client가 실시간으로 데이터를 주고 받는 상황이 필요한 경우에 사용
    
    실시간 동영상 Streaming이나 온라인 게임 등과 같은 경우에 사용된다.